
<!DOCTYPE html>
<html>
<head>
  

  <meta charset="utf-8">
  <meta name="description" content="">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="generator" content="Polymer Starter Kit" />
  <title>Nexus 5 刷机及ROOT | 刘哇勇的部落格</title>
  <!-- Place favicon.ico and apple-touch-icon.png in the root directory -->

  <!-- Chrome for Android theme color -->
  <meta name="theme-color" content="#303F9F">

  <!-- Web Application Manifest -->
  <link rel="manifest" href="manifest.json">

  <!-- Tile color for Win8 -->
  <meta name="msapplication-TileColor" content="#3372DF">

  <!-- Add to homescreen for Chrome on Android -->
  <meta name="mobile-web-app-capable" content="yes">
  <meta name="application-name" content="Polymer Starter Kit">
  <link rel="icon" sizes="192x192" href="images/touch/chrome-touch-icon-192x192.png">

  <!-- Add to homescreen for Safari on iOS -->
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  <meta name="apple-mobile-web-app-title" content="Polymer Starter Kit">
  <link rel="apple-touch-icon" href="images/touch/apple-touch-icon.png">

  <!-- Tile icon for Win8 (144x144) -->
  <meta name="msapplication-TileImage" content="images/touch/ms-touch-icon-144x144-precomposed.png">

  <!-- rss -->
  
  <link rel="alternative" href="/atom.xml" title="刘哇勇的部落格" type="application/atom+xml">
  
  <!-- favicon -->
  

  <link rel="stylesheet" href="/test/css/main.css" type="text/css">

  <script src="/test/polymer/webcomponentsjs/webcomponents-lite.js" type="text/javascript"></script>

  <link rel="import" href="/test/elements/elements.html">

</head>


<style is="custom-style">

  paper-scroll-header-panel {
    position: absolute;
    top: 0;
    right: 0;
    bottom: 0;
    left: 0;
    background-color: var(--paper-grey-200, #eee);

    /* background for toolbar when it is at its full size */
    --paper-scroll-header-panel-full-header: {
      background-image: url( / );
    };

    /* background for toolbar when it is condensed */
    --paper-scroll-header-panel-condensed-header: {
      background-color: var(--paper-deep-orange-500, #ff5722);
    };
  }



</style>

<body unresolved class="fullbleed layout vertical">
  <template is="dom-bind" id="app">

    <paper-drawer-panel id="paperDrawerPanel">

       <div drawer>
	<!-- Drawer Toolbar -->
	<paper-toolbar id="drawerToolbar">
	  <span class="paper-font-title"> 刘哇勇的部落格 </span>
	</paper-toolbar>

	<!-- Drawer Content -->
	<paper-menu class="list" attr-for-selected="data-route"  on-iron-select="onMenuSelect">

	  
	    <a href="/">
	        <iron-icon icon="home"></iron-icon>
	        <span>Home</span>
	    </a>
	  
	    <a href="/test/archives">
	        <iron-icon icon="archive"></iron-icon>
	        <span>Archives</span>
	    </a>
	  
	    <a href="/about">
	        <iron-icon icon="info"></iron-icon>
	        <span>About</span>
	    </a>
	  
	 
	</paper-menu>
</div>

      <paper-header-panel main mode="waterfall-tall">

         <paper-scroll-header-panel condenses>

          <paper-toolbar class="tall" id="mainToolbar">

  <!-- index -->
  
  	<paper-icon-button icon="arrow-back" onclick="back(event)"></paper-icon-button>
  

  <div class="flex"></div>
  <!-- <paper-icon-button icon="search"></paper-icon-button> -->

  <!-- Application sub title -->
  <!-- index -->
  
	  <div class="bottom title"> Nexus 5 刷机及ROOT </div>
  
  
</paper-toolbar>

<!-- Main Content -->
<div class="content">

  <!-- index -->
  
	  <paper-material >
			<p><blockquote>
<p>刷机有风险，root需谨慎！<br>following steps below on your own risk</p>
</blockquote>
<a id="more"></a>
<p>Google死忠入手一台Nexus是必需的事情。Nexus6 刚出，特别赞，但被尺寸吓到了，机身跟6 plus差不离。觉得这样的尺寸无法接受，遂入手Nexus5。我不算太能折腾，所以不想去刷机什么的。但问题来了，Android 5 棒棒糖太吸引人，Material Design 简直美Cry。</p>
<p>对于Google死忠来说，这样的诱惑是难以抵挡的。于是咬咬牙，升！</p>
<p>Nexus5 自带Android 4.4.3其实可以接收OTA自动升级到最新版本的。鉴于国内特殊情况，要完成顺利的升级你得懂得科学上网，而且是让手机科学上网。</p>
<p><img src="/asset/posts/2014-12-21-nexus-root/1.png" alt=""></p>
<p>科学上网只是第一步，保证你手机可以下载到更新，值得提及的是升级过程似乎只能一步一步来，4.4.3 到4.4.4，然后4.4.4 到 5.0， 最后才是5.0.1。</p>
<p>如果手机之前ROOT过，OTA有可能不会那么自动，更新包下载完成重启时可能进入安装界面，于是不知道怎么操作，也没搜到相关资料，只能手动刷了。</p>
<p>当然，如果你没有VPN，不能科学上网，你的唯一选择就只有手动刷了。</p>
<p>但先让我们来ROOT，因为官方都说了，安装新系统镜像前有可能需要<code>unlock</code>，所以为了提高成功率还是先ROOT一下。</p>
<h1 id="ROOT">ROOT</h1><h2 id="ROOT视频教程">ROOT视频教程</h2><p>你可以看<a href="http://v.youku.com/v_show/id_XODUzNDIyOTc2.html" target="_blank" rel="external">此视频教程</a>（从Youtube 扒到优酷的），也可以跟随下面的步骤，多体位任君选择。</p>
<iframe height="498" width="510" src="http://player.youku.com/embed/XODUzNDIyOTc2" frameborder="0" allowfullscreen></iframe>

<h2 id="准备">准备</h2><p>开始之前，你需要准备一些工具。包括了系统驱动及一些<code>adb</code>命令行工具等，可以<a href="http://downloadandroidrom.com/file/Nexus5/root/Nexus5Root.zip" target="_blank" rel="external">点此下载</a>。</p>
<h3 id="开启手机开发者选项">开启手机开发者选项</h3><p>开启手机开发者调试选项。</p>
<blockquote>
<p>Settings-&gt;About Phone</p>
</blockquote>
<p>进入「关于手机」界面，下拉到底部，连续点击<code>Build number</code> 直到出现提示说还剩多少次点击便可开启开发者选项，再继续，最后会提示你开启成功。</p>
<p><img src="/asset/posts/2014-12-21-nexus-root/3.jpg" alt=""></p>
<blockquote>
<p>图片来自<a href="http://www.cnet.com/how-to/how-to-easily-root-an-android-device/" target="_blank" rel="external">How to easily root an Android device</a></p>
</blockquote>
<p>然后返回到上一级，会多出一个菜单 <code>Developer options</code>,点击进入。选中<code>USB debugging</code>。</p>
<p><img src="/asset/posts/2014-12-21-nexus-root/4.png" alt=""></p>
<h3 id="驱动安装">驱动安装</h3><p>首先需要在电脑上安装识别手机的驱动。这里以Window为例。将手机用数据线连接到电脑。前面已经开启了USB调试选项，连接后，手机出现提示是否允许调试，选中同意。</p>
<ul>
<li><p>下载上面提到的<a href="http://downloadandroidrom.com/file/Nexus5/root/Nexus5Root.zip" target="_blank" rel="external">root工具</a>后解压。</p>
</li>
<li><p>进入Windows的设备管理器（控制面板-&gt;设备管理器）, 此时我们的手机应该是未识别的设备，有黄色图标。</p>
</li>
</ul>
<p><img src="/asset/posts/2014-12-21-nexus-root/5.jpg" alt=""></p>
<blockquote>
<p>双击该设备打开属性面板，然后选择「更新驱动」，在弹出的窗口中选择从本地电脑中选择驱动。</p>
</blockquote>
<p><img src="/asset/posts/2014-12-21-nexus-root/6.jpg" alt=""></p>
<blockquote>
<p>在弹出的窗口中再次选择从电脑中浏览，之后在弹出的窗口中直接点击「下一步」。</p>
</blockquote>
<p><img src="/asset/posts/2014-12-21-nexus-root/7.jpg" alt=""></p>
<blockquote>
<p>下一步窗口中选择<code>Have Disk...</code> 打开<code>Install From Disk</code> 窗口。选择「浏览」定位到之前解压的位置，选中<code>Nexus5Root\usb_driver\android_winusb.inf</code> 进行安装。</p>
</blockquote>
<p><img src="/asset/posts/2014-12-21-nexus-root/8.jpg" alt=""></p>
<blockquote>
<p>接下来选择<code>Android ADB Interface</code> 再点击「下一步」开始安装。</p>
</blockquote>
<p><img src="/asset/posts/2014-12-21-nexus-root/9.jpg" alt=""></p>
<p>到此，驱动安装完成！</p>
<h3 id="资料备份">资料备份</h3><p>如果你是新手机，没啥重要数据，或者通讯录什么的都云端备份了，这一步就可以省了。如果你想保存手机上的APP信息什么的，那就过一下此步骤吧。</p>
<p>注意这个时候你的手机应该是开机状态且用数据线连接到电脑了。</p>
<ul>
<li>还是在之前解压的文件夹下，按住左键在空白处右击，在出来的菜单中选择「在此处打开命令行」</li>
</ul>
<p><img src="/asset/posts/2014-12-21-nexus-root/10.png" alt=""></p>
<ul>
<li>输入<code>adb devices</code> 查看设备连接状态。第一次可能会需要在手机上弹出的确认窗口中点击一下确认。正常情况下命令行里会返回已经识别到的机器。</li>
</ul>
<p><img src="/asset/posts/2014-12-21-nexus-root/11.jpg" alt=""></p>
<ul>
<li>输入<code>adb backup -apk -all -f backup.ab</code> 进行资料备份。此时到手机上点击确定开始进行备份。</li>
</ul>
<p>分分钟后备份工作完毕！</p>
<h2 id="ROOT_进行时">ROOT 进行时</h2><p>接下来开始ROOT。</p>
<p>此时你的手机也保持和电脑连接的。</p>
<ul>
<li><p>先是手机关机。之后按住音量向下键和电源键，一定是同时按住，大概2秒后进入启动界面。 </p>
</li>
<li><p>此时你需要重复上面驱动安装的步骤再次安装一下驱动，如果设备管理器里面手机图标还是带黄色感叹号的话</p>
</li>
<li><p>还是在刚才的命令行里面，输入<code>fastboot oem unlock</code>，这就是鉴证奇迹的时刻。此时到手机上用音量键选择<code>YES</code> 然后按电源键来确认。然后系统开始擦除数据，进行ROOT。大概秒秒钟后完成。成功后会显示系统状态为<code>unlocked</code></p>
</li>
<li><p>然后用音量键选择<code>Start</code>模式启动手机</p>
</li>
</ul>
<p>此时手机启动后就焕然一新了，需要重新设置时间等。</p>
<h2 id="安装ROOT授权管理软件">安装ROOT授权管理软件</h2><p>接下来需要安装一个ROOT授权管理软件，以方便我们管理软件。</p>
<ul>
<li><p>开机后手机还是连接到电脑的。将解压包里的<code>UPDATE-SuperSU-v1.65.zip</code> 文件复制到手机SD卡</p>
</li>
<li><p>然后关机。还是以上面那种方式，按住音量向下键和电源键，直到启动界面出现</p>
</li>
<li><p>还是原来的命令行窗口里面，输入<code>fastboot flash recovery openrecovery-twrp-2.6.3.1-hammerhead.img</code> 写入<code>recovery</code> 程序</p>
</li>
<li><p>成功后到手机上，用音量键切换到<code>Recovery mode</code>，按电源键确定进入。此时手机重启，进入<code>recovery</code> 界面</p>
</li>
<li><p>选择<code>Install</code>, 然后找到你复制到SD卡中的<code>UPDATE-SuperSU-v1.65.zip</code>，选择中它。现在出现提示叫你「滑动来确定安装」，滑动安装之</p>
</li>
<li><p>秒秒钟后安装成功，选择重启系统</p>
</li>
</ul>
<p>重启后多了个 Super SU 软件，这个就是用来管理ROOT授权的。</p>
<p>到此系统ROOT完毕！</p>
<h2 id="资料还原">资料还原</h2><p>现在需要做的就是还原之前备份的资料。</p>
<p>此时手机已经焕然一新了，于是我们需要重复之前的步骤来开启手机的开发者调试选项。步骤见上文。</p>
<p>然后手机同样连接到电脑。</p>
<ul>
<li><p>输入<code>adb devices</code> 查看设备连接状态</p>
</li>
<li><p>输入<code>adb restore backup.ab</code> 进行还原。此时到手机上操作，选择恢复</p>
</li>
</ul>
<p>如果顺利的话，到此你的手机就ROOT成功并且数据还原完毕啦！</p>
<h1 id="手动升级Android_Lollipop">手动升级Android Lollipop</h1><p>如果之前是Android 4.x，建议先升5再升5.0.1。升级系统不必ROOT，但至少官方有如下提示：</p>
<blockquote>
<ol>
<li>If necessary, unlock the device’s bootloader by running:<br><code>fastboot oem unlock</code> </li>
</ol>
</blockquote>
<p>所以如果你之前尝试过升级不成功的话可以试试上面步骤先ROOT一下。并且对于喜欢折腾的发烧友们来说，手机不ROOT就无法DIY，各种摄手摄脚啊。</p>
<p>下面开始刷5.0.1系统。</p>
<h2 id="下载谷歌原厂系统镜像">下载谷歌原厂系统镜像</h2><p>到<a href="https://developers.google.com/android/nexus/images" target="_blank" rel="external">谷歌官网</a>下载适配机型的img系统镜像文件。这里我们选择最新的<a href="https://dl.google.com/dl/android/aosp/hammerhead-lrx22c-factory-0f9eda1b.tgz" target="_blank" rel="external">Nexus5 Android 5.0.1</a></p>
<p><img src="/asset/posts/2014-12-21-nexus-root/2.jpg" alt=""></p>
<h2 id="解压写入">解压写入</h2><p>此时你的手机连接到电脑并且开始的开发者调试模式。</p>
<p>将下载的文件解压。我的建议是将解压出来的文件与上面的root工具放一起，这样方便执行<code>adb</code> 命令时好找文件。</p>
<p>还是上面那个命令行工具，执行<code>adb reboot bootloader</code> 重启手机进入启动界面。</p>
<p>然后再执行<code>flash-all</code> 开始写入系统文件。</p>
<p>这一过程可能持续一会儿，分把钟的样子。</p>
<p>成功后如果你想解释ROOT状态，可以执行<code>fastboot oem lock</code>。</p>
<p>重启手机，感受全新的Material Design 美艳界面吧！</p>
<h2 id="手动写入">手动写入</h2><p>如果你在执行上面的<code>flash-all</code> 脚本时出现错误了，此时需要手机写入。</p>
<p>方法是将下载下来的系统文件解压后，里面会有一个包含很多系统相关镜像的压缩包文件<code>image-hammerhead-lrx22o.zip</code>，将它解压。</p>
<p>解压后你会得到</p>
<ul>
<li>android-info.txt</li>
<li>boot.img</li>
<li>cache.img</li>
<li>recovery.img</li>
<li>system.img</li>
<li>userdata.img</li>
</ul>
<p>这些文件.然后将这些文件同样放到跟adb工具一起，方便之后执行命令时不用多写路径。</p>
<p>开始手动写入。</p>
<ul>
<li>执行<code>fastboot flash bootloader bootloader-hammerhead-hhz12d.img</code> 这里的<code>bootloader-hammerhead-hhz12d.img</code> 文件名以你自己的为准，不同系统可能有不同</li>
<li>执行<code>fastboot flash radio radio-hammerhead-m8974a-2.0.50.2.22.img</code></li>
<li>执行<code>fastboot reboot-bootloader</code> 重启</li>
<li><p>再依次执行</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">fastboot flash recovery recovery.img</span><br><span class="line">fastboot flash boot boot.img</span><br><span class="line">fastboot flash system system.img</span><br></pre></td></tr></table></figure>
</li>
<li><p>如果是Nexus9 完成上面的步骤后需要执行 <code>fastboot flash vendor vendor.img</code>, <strong>注意：此步骤仅Nexus9需要</strong></p>
</li>
<li><p>执行<code>fastboot flash cache cache.img</code></p>
</li>
<li>执行<code>fastboot flash userdata userdata.img</code> </li>
</ul>
<p>到此，手动写入完成！</p>
<p>开机即可体验！！</p>
<h1 id="refernce">refernce</h1><ul>
<li><a href="http://rootnexus5.com/nexus-5-root/how-to-root-nexus-5/" target="_blank" rel="external">How to Root Nexus 5! [4.4.3/4.4.4/5.0]</a></li>
<li><a href="https://developers.google.com/android/nexus/images" target="_blank" rel="external">Factory Images for Nexus Devices</a></li>
<li><a href="http://www.androidpolice.com/2014/11/12/running-into-the-dreaded-missing-system-img-error-flashing-android-5-0-factory-images-heres-how-to-get-around-it/" target="_blank" rel="external">Running Into The Dreaded “missing system.img” Error Flashing Android 5.0 Factory Images? Here’s How To Get Around It</a></li>
</ul>
</p>
		</paper-material>
  

  <!-- pagination -->
  

  <script src="/test/js/main.js" type="text/javascript"></script>

</div>






        </paper-scroll-header-panel>

      </paper-header-panel>

    </paper-drawer-panel>

  </template>

</body>

</html>