<!DOCTYPE html>
<html>
<head>
  <%
  var title = page.title;

  if (is_archive()){
    title = 'Archives';

    if (is_month()){
      title += ': ' + page.year + '/' + page.month;
    } else if (is_year()){
      title += ': ' + page.year;
    }
  } else if (is_category()){
    title = 'Category: ' + page.category;
  } else if (is_tag()){
    title = 'Tag: ' + page.tag;
  }
  %>
  <title><% if (title){ %><%= title %> | <% } %><%= config.title %></title>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <meta name="viewport" content="width=device-width, minimum-scale=1.0, initial-scale=1, user-scalable=yes">

  <%- js('polymer/webcomponentsjs/webcomponents-lite') %>

  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <% if (theme.rss){ %>
  <link rel="alternative" href="<%- theme.rss %>" title="<%= config.title %>" type="application/atom+xml">
  <% } %>
  <% if (theme.favicon){ %>
    <link rel="icon" href="<%- theme.favicon %>">
  <% } %>

  <%- css('css/main') %>
</head>

<link rel="import" href="<%- url_for('polymer/iron-icons/iron-icons.html') %>">
  <link rel="import" href="<%- url_for('polymer/paper-drawer-panel/paper-drawer-panel.html') %>">
  <link rel="import" href="<%- url_for('polymer/paper-header-panel/paper-header-panel.html') %>">
  <link rel="import" href="<%- url_for('polymer/paper-icon-button/paper-icon-button.html') %>">
  <link rel="import" href="<%- url_for('polymer/paper-material/paper-material.html') %>">
  <link rel="import" href="<%- url_for('polymer/paper-toolbar/paper-toolbar.html') %>">

  <link rel="import" href="<%- url_for('polymer/paper-scroll-header-panel/paper-scroll-header-panel.html') %>">
  <link rel="import" href="<%- url_for('polymer/paper-menu/paper-menu.html') %>">
  <link rel="import" href="<%- url_for('polymer/paper-item/paper-item.html') %>">

<style is="custom-style">

body {
  font-family: 'Roboto', 'Noto', sans-serif;
  font-size: 14px;
  margin: 0;
  padding: 24px;
}

section {
  padding: 20px 0;
}

section > div {
  padding: 14px;
  font-size: 16px;
}

    paper-scroll-header-panel {
      position: absolute;
      top: 0;
      right: 0;
      bottom: 0;
      left: 0;
      background-color: var(--paper-grey-200, #eee);

      /* background for toolbar when it is at its full size */
      --paper-scroll-header-panel-full-header: {
        background-image: url( <%- url_for(theme.cover) %> );
      };
    

      /* background for toolbar when it is condensed */
      --paper-scroll-header-panel-condensed-header: {
        background-color: var(--paper-deep-orange-500, #ff5722);
      };
    }

  <% if (theme.cover){ %>
    paper-toolbar {
      background-color: transparent;
    }
  <% } %>


   
    paper-toolbar iron-icon {
      margin: 0 8px;
    }

    .content {
      padding: 8px;
    }

  </style>

</head>
  <body>
    <paper-drawer-panel id="drawerPanel" responsive-width="1280px">

      <div class="nav" drawer>
        <paper-toolbar class="tall">
            <span>wayou liu</span>
          </paper-toolbar>
        
          <paper-menu class="list" on-iron-activate="_listTap">
            <paper-item></paper-item>
            <paper-item></paper-item>
            <paper-item></paper-item>
            <paper-item></paper-item>
          </paper-menu>

      </div>
      <paper-header-panel class="main" main mode="waterfall">
        <paper-scroll-header-panel condenses>
          <paper-toolbar class="tall">
            <paper-icon-button icon="menu" paper-drawer-toggle></paper-icon-button>
            <div class="bottom title">title goes here</div>
          </paper-toolbar>

          <div class="content">
              <paper-material></paper-material>
              <paper-material></paper-material>
              <paper-material></paper-material>
              <paper-material></paper-material>
              <paper-material></paper-material>
              <paper-material></paper-material>
              <paper-material></paper-material>
          </div>
        </paper-scroll-header-panel>
        <script>
          // custom transformation: scale header's title
          var titleStyle = document.querySelector('.title').style;
          addEventListener('paper-header-transform', function(e) {
            var d = e.detail;
            var m = d.height - d.condensedHeight;
            var scale = Math.max(0.75, (m - d.y) / (m / 0.25)  + 0.75);
            titleStyle.transform = titleStyle.webkitTransform =
                'scale(' + scale + ') translateZ(0)';
          });
        </script>

      </paper-header-panel>

    </paper-drawer-panel>

  </body>

</html>